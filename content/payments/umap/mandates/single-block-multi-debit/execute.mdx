---
sidebar_title: Execute
page_title: UMAP - Mandates - Execute Single Block Multi Debit Mandate
order: 2
visible_in_sidebar: true
---

## Execute mandate

<Card padding="small" shape="rounded">
    <a href="/payments/umap/mandates/single-block-multi-debit/create" target="_blank">
        Create single block multi debit mandate ↗
    </a>
    <p>
        Read about single block multi debit mandate creation, if you haven't already
    </p>
</Card>

<hr class="primary"/>

Once the mandate is **LIVE**, the merchant can execute the mandate whenever a payment is to be collected from the customer.

The process for mandate execution is described in the below diagram:

<img
  src="https://storage.googleapis.com/strapi-assets/latest/mandate-pre-debit-notification/mandate-pre-debit-notification.png"
  alt="Bridge"
/>

The merchant will have to call the **<i>execute mandate API</i>** with the correct set of parameters.

<table>
    <tbody>
        <tr>
            <th>Staging Host</th>
            <td>
                <code>https://umap-dev-core.setu.co/api/v1</code>
            </td>
        </tr>
        <tr>
            <th>Method</th>
            <td>
                <code>POST</code>
            </td>
        </tr>
        <tr>
            <th>Path</th>
            <td>
                <code>/merchants/mandates/&#123;mandateId&#125;/execute</code>
            </td>
        </tr>
        <tr>
            <th>Header</th>
            <td>
                <code>merchantId</code><br/>
                <code>Authorization</code>: Bearer &lt;<b>insert_token_here</b>&gt;.
                Generate this token using <a
                    href="/payments/upi-deeplinks/resources/oauth"
                    target="_blank">
                    OAuth
                </a> or <a
                    href="/payments/upi-deeplinks/resources/jwt"
                    target="_blank">
                    JWT
                </a>.<br />
                <br />
                <code>Content-Type</code>—will be <code>application/json</code>
            </td>
        </tr>
    </tbody>
</table>

###### Sample request

<CodeBlockWithCopy language="json">
    {`{
    "amount": 1000,
    "merchantReferenceId": "ABC1234789",
    "remark": "Transaction for car loan emi",
    "sequenceNumber": 1,
    "umn": "setumandate1234789@ybl"
}`}
</CodeBlockWithCopy>

<p><b>Request body parameter values for executing a recurring mandate</b></p>
<table>
    <tr>
        <th>parameter</th>
        <th>value</th>
    </tr>
    <tr>
        <td>amount</td>
        <td>must be such that the cumulative amount debited for the given mandate post current debit is within the amount that is blocked in customer's account</td>
    </tr>
    <tr>
        <td>umn</td>
        <td>can be derived from the notifications received by the merchant during mandate creation flow or via check mandate status API</td>
    </tr>
</table>

###### Sample response

<CodeBlockWithCopy language="json">
    {`{
  "amount": 1000,
  "createdAt": "2023-09-04 12:08:20.202644 +0530 IST",
  "id": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
  "mandateId": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
  "merchantId": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
  "merchantReferenceId": "ABC1234789",
  "remark": "Transaction for car loan emi",
  "sequenceNumber": 1,
  "status": "pending",
  "txnId": "BTTZrc5gDFkuCr3n3I0ey4aNtzLOLR7K7aR",
  "umn": "c27f5fc30d344e9594fce0afa34f8859@mypsp"
}`}
</CodeBlockWithCopy>

**In the above response:**

-   `id` is a unique ID that is associated with this mandate execution and can be used to track it later.

To know more about all the API params, please refer to the API documentation <a href="/payments/umap/api-reference#/category~mandates/operation~mandates#execute" target="_blank">here</a>.

<p>UMAP will send notifications to the merchant for the following events:</p>
<ul>
    <li><b>mandate_operation.execute.success</b> (if mandate execution is successful)</li>
    <li><b>mandate_operation.execute.failed</b> (if mandate execution fails)</li>
</ul>
<p>Read more about mandate execute operation notifications <a href="/payments/umap/notifications/mandates/execute">here</a></p>

<p>In addition to the notifications, the merchant can also use <a href="/payments/umap/mandates/single-block-multi-debit/execute#check-mandate-execution-status" target="_blank">check mandate execution status API</a> to check if execution is <b>successful</b></p>

Please refer to the Document Reference section for checking the API reference and the notifications.

<hr class="tertiary"/>

#### Check mandate execution status

In addition to the notifications sent by UMAP, Merchant can use this API to check the status of a mandate execution.

<table>
    <tbody>
        <tr>
            <th>Staging Host</th>
            <td>
                <code>https://umap-dev-core.setu.co/api/v1</code>
            </td>
        </tr>
        <tr>
            <th>Method</th>
            <td>
                <code>GET</code>
            </td>
        </tr>
        <tr>
            <th>Path</th>
            <td>
                <code>/merchants/mandate-executions/&#123;id&#125;</code>
            </td>
        </tr>
        <tr>
            <th>Header</th>
            <td>
                <code>merchantId</code><br/>
                <code>Authorization</code>: Bearer &lt;<b>insert_token_here</b>&gt;.
                Generate this token using <a
                    href="/payments/upi-deeplinks/resources/oauth"
                    target="_blank">
                    OAuth
                </a> or <a
                    href="/payments/upi-deeplinks/resources/jwt"
                    target="_blank">
                    JWT
                </a>.<br />
                <br />
                <code>Content-Type</code>—will be <code>application/json</code>
            </td>
        </tr>
    </tbody>
</table>

<h6>Sample response</h6>
<CodeBlockWithCopy language="json">
{`{
  "amount": 1000,
  "createdAt": "2023-09-04 12:08:20.202644 +0530 IST",
  "id": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
  "mandateId": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
  "merchantId": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
  "merchantReferenceId": "ABC1234789",
  "remark": "Transaction for car loan emi",
  "sequenceNumber": 1,
  "status": "success",
  "txnId": "BTTZrc5gDFkuCr3n3I0ey4aNtzLOLR7K7aR",
  "umn": "c27f5fc30d344e9594fce0afa34f8859@mypsp"
}`}
</CodeBlockWithCopy>
<b>In the above response:</b>
<ul>
    <li><code>id</code> is a unique ID that is associated with this mandate execution and can be used to track it later.</li>
</ul>

<p>To know more about all the API params, please refer to the API documentation <a href="/payments/umap/api-reference#/category~mandates/operation~mandates#fetchMandateExecutionById" target="_blank">here</a>.</p>

<NextPage
    info={{
        description: "Check mandate payment status.  ",
        slug: "/payments/umap/mandates/recurring/check-status",
        title: "Check mandate payment status",
    }}
/>
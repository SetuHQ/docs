---
sidebar_title: Check VPA availability
page_title: UMAP - Merchant on-boarding - Check VPA availability
order: 2
visible_in_sidebar: true
---

## Check availability of a VPA

<Callout type="warning">
  The merchant on-boarding APIs are only relevant for an aggregator. If you are
  an individual merchant, you can proceed to the{" "}
  <a href="/payments/umap/quickstart" target="_self">
    merchant quickstart
  </a>{" "}
  and either of our product pages{" "}
  <a href="/payments/umap/payments" target="_self">
    UPI payments
  </a>{" "}
  or{" "}
  <a href="/payments/umap/mandates" target="_self">
    UPI mandates
  </a>
  .
</Callout>

<br />

This is an optional step. However, VPAs act as unique identifiers for merchants in the UPI ecosystem, so it is highly recommended that you check VPA validity before assigning it to a merchant, to avoid conflicts.

Use the following API to check if it is already associated with another merchant or not.

<table>
  <tbody>
    <tr>
      <th>Staging host</th>
      <td>
        <code>https://umap.setu.co/api</code>
      </td>
    </tr>
    <tr>
      <th>Method</th>
      <td>
        <code>POST</code>
      </td>
    </tr>
    <tr>
      <th>Path</th>
      <td>
        <code>/v1/merchants/vpas/availability</code>
      </td>
    </tr>
    <tr>
      <th>Header</th>
      <td>
        <code>merchantId</code>
        <br />
        <code>Authorization</code>: Bearer &lt;<b>insert_token_here</b>&gt;
        {" "}
        <br />
        <a href="/payments/umap/api-integration" target="_blank">
          Generate an access token ↗
        </a>{" "}
        <br />
        <br />
        <code>Content-Type</code>—will be <code>application/json</code>
      </td>
    </tr>
    <tr>
      <th>API reference</th>
      <td>
        <a
          href="/payments/umap/api-reference#/category~vpa/operation~vpa#checkAvailability"
          target="_blank"
        >
          Check VPA availability ↗
        </a>
      </td>
    </tr>
  </tbody>
</table>

<hr class="primary" />



<Tabs
   tabs={[
         {
            key: "1",
            label: "Request body",
            content: (
               <>
                  <CodeBlockWithCopy language="json">
{`{
    "vpa": "fastestupi@pineaxis"
}`}
                  </CodeBlockWithCopy>
               </>
            ),
         },
         {
            key: "2",
            label: "Response body",
            content: (
               <>
                     <CodeBlockWithCopy language="json">
{`{
  "availabilityStatus": "available",
  "merchantId": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
  "vpa": "fastestupi@pineaxis"
}`}
                     </CodeBlockWithCopy>
               </>
            ),
         },
         {
            key: "3",
            label: "cURL request",
            content: (
               <>
                     <CodeBlockWithCopy language="bash">
{`curl --request POST \
  --url https://umap.setu.co/api/v1/merchants/vpas/availability \
  --header 'Authorization: Bearer REPLACE_BEARER_TOKEN' \
  --header 'content-type: application/json' \
  --header 'merchantId: 01ARZ3NDEKTSV4RRFFQ69G5FAV' \
  --data '{
    "vpa": "fastestupi@pineaxis"
}'`}
                     </CodeBlockWithCopy>
               </>
            ),
         }
   ]}
/>

<NextPage
  info={{
    description: "Create and assign VPA",
    slug: "payments/umap/merchant-onboarding/create-vpa-api",
    title: "Create and assign VPA",
  }}
/>

<WasPageHelpful />

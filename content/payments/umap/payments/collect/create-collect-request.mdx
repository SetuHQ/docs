---
sidebar_title: Create
page_title: UPI Setu payments - Create collect request
order: 2
visible_in_sidebar: true
---

## Create collect request

This API can be used to create a collect request that initiates a UPI transaction on the user's UPI app by taking vpa as an input.

<table>
  <tbody>
    <tr>
      <th>Staging host</th>
      <td>
        <code>https://umap.setu.co/api</code>
      </td>
    </tr>
    <tr>
      <th>Method</th>
      <td>
        <code>POST</code>
      </td>
    </tr>
    <tr>
      <th>Path</th>
      <td>
        <code>/v1/merchants/collect</code>
      </td>
    </tr>
    <tr>
      <th>Header</th>
      <td>
        <code>merchantId</code>
        <br />
        <code>Authorization</code>: Bearer &lt;<b>insert_token_here</b>&gt;.
        Generate this token using{" "}
        <a href="/payments/upi-deeplinks/resources/oauth" target="_blank">
          OAuth
        </a>{" "}
        or{" "}
        <a href="/payments/upi-deeplinks/resources/jwt" target="_blank">
          JWT
        </a>
        .<br />
        <br />
        <code>Content-Type</code>—will be <code>application/json</code>
      </td>
    </tr>
    <tr>
      <th>API reference</th>
      <td>
        <a
          href="/payments/umap/api-reference#/category~collect/operation~collect#create"
          target="_blank"
        >
          Create collect request ↗
        </a>
      </td>
    </tr>
  </tbody>
</table>

###### Sample request

<CodeBlockWithCopy language="json">
  {`{
    "amount": 10000,
    "currency": "INR",
    "customerVpa": "ram@okhdfc",
    "expireAfter": 2,
    "merchantReferenceId": "1240689979139556557",
    "merchantVpa": "fastestupi@pineaxis",
    "metadata": {
        "InvoiceNumber": "INV-21-12-009"
    },
    "productConfigId": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
    "transactionNote": "testcollect"
}`}
</CodeBlockWithCopy>

<Element as="ul">
  <li>
    <code>productConfigId</code> is an optional field.
  </li>
</Element>

###### Sample response

<CodeBlockWithCopy language="json">
  {`{
  "amount": 10000,
  "createdAt": "2023-09-04 12:08:20.202644 +0530 IST",
  "currency": "INR",
  "customerVpa": "ram@okhdfc",
  "expireAfter": 2,
  "id": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
  "merchantId": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
  "merchantReferenceId": "1240689979139556557",
  "merchantVpa": "fastestupi@pineaxis",
  "metadata": {
    "InvoiceNumber": "INV-21-12-009"
  },
  "productConfigId": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
  "refId": "1240689979139556558",
  "status": "active",
  "transactionNote": "testcollect"
}`}
</CodeBlockWithCopy>

<hr class="primary" />

## Check collect request status

Since collect request directly initiates a transaction on customer's UPI app. The collect request status can also be used to check status of both the transaction and the collect request itself.

<table>
  <tbody>
    <tr>
      <th>Staging host</th>
      <td>
        <code>https://umap.setu.co/api</code>
      </td>
    </tr>
    <tr>
      <th>Method</th>
      <td>
        <code>GET</code>
      </td>
    </tr>
    <tr>
      <th>Path</th>
      <td>
        <code>/v1/merchants/collect/&#123;id&#125;</code>
      </td>
    </tr>
    <tr>
      <th>Header</th>
      <td>
        <code>merchantId</code>
        <br />
        <code>Authorization</code>: Bearer &lt;<b>insert_token_here</b>&gt;.
        Generate this token using{" "}
        <a href="/payments/upi-deeplinks/resources/oauth" target="_blank">
          OAuth
        </a>{" "}
        or{" "}
        <a href="/payments/upi-deeplinks/resources/jwt" target="_blank">
          JWT
        </a>
        .<br />
        <br />
        <code>Content-Type</code>—will be <code>application/json</code>
      </td>
    </tr>
    <tr>
      <th>API reference</th>
      <td>
        <a
          href="/payments/umap/api-reference#/category~collect/operation~collect#fetchById"
          target="_blank"
        >
          Check collect request status ↗
        </a>
      </td>
    </tr>
  </tbody>
</table>

###### Sample response

<CodeBlockWithCopy language="json">
  {`{
  "amount": 10000,
  "closedAt": "2023-09-04 12:08:20.202644 +0530 IST",
  "createdAt": "2023-09-04 12:08:20.202644 +0530 IST",
  "currency": "INR",
  "customerVpa": "ram@okhdfc",
  "expireAfter": 2,
  "id": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
  "merchantId": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
  "merchantReferenceId": "1240689979139556557",
  "merchantVpa": "fastestupi@pineaxis",
  "metadata": {
    "InvoiceNumber": "INV-21-12-009"
  },
  "productConfigId": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
  "reason": {
    "code": "unable-to-fulfill-request",
    "desc": "unable-to-fulfill-request",
    "npciErrCode": "YG",
    "npciErrDesc": "MERCHANT ERROR (PAYEE PSP)",
    "npciRespCode": "YG",
    "npciRespDesc": "MERCHANT ERROR (PAYEE PSP)"
  },
  "refId": "1240689979139556558",
  "status": "active",
  "transactionNote": "testcollect"
}`}
</CodeBlockWithCopy>

<hr class="primary" />

<NextPage
  info={{
    description: "Check payment status associated with collect request.",
    slug: "/payments/umap/payments/collect/check-status",
    title: "Check payment status",
  }}
/>

<WasPageHelpful />

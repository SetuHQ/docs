---
sidebar_title: Create
page_title: UPI Setu - Payments - Create TPV API
order: 1
visible_in_sidebar: true
---

## Create TPV

The merchant generates a payment link. This unique link serves as the gateway for customers to initiate intent transactions via their Third-Party Application Provider (TPAP).

<table>
  <tbody>
    <tr>
      <th>Staging host</th>
      <td>
        <code>https://umap.setu.co/api</code>
      </td>
    </tr>
    <tr>
      <th>Method</th>
      <td>
        <code>POST</code>
      </td>
    </tr>
    <tr>
      <th>Path</th>
      <td>
        <code>/v1/merchants/tpv</code>
      </td>
    </tr>
    <tr>
      <th>Header</th>
      <td>
        <code>merchantId</code>
        <br />
        <code>Authorization</code>: Bearer &lt;<b>insert_token_here</b>&gt;.
        Generate this token using{" "}
        <a href="/payments/upi-deeplinks/resources/oauth" target="_blank">
          OAuth
        </a>{" "}
        or{" "}
        <a href="/payments/upi-deeplinks/resources/jwt" target="_blank">
          JWT
        </a>
        .<br />
        <br />
        <code>Content-Type</code>—will be <code>application/json</code>
      </td>
    </tr>
    <tr>
      <th>API reference</th>
      <td>
        <a
          href="/payments/umap/api-reference#/category~tpv/operation~tpv#createTPV"
          target="_blank"
        >
          Create TPV API ↗
        </a>
      </td>
    </tr>
  </tbody>
</table>

###### Sample request

<CodeBlockWithCopy language="json">
  {`{
    "amount": 100,
    "createdAt": "2023-09-04 12:08:20.202644 +0530 IST",
    "expireAfter": 10,
    "id": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
    "merchantReferenceId": "1240689979139556556",
    "merchantVpa": "fastestupi@pineaxis",
    "metadata": "test",
    "minAmount": 100,
    "primaryAccount": {
        "IFSC": "SBIN0000001",
        "accountName": "deku",
        "accountNumber": "1234567890"
    },
    "productConfigId": "1240689979139556556",
    "secondaryAccounts": [
        {
            "IFSC": "SBIN0000001",
            "accountName": "deku",
            "accountNumber": "1234567890"
        },
        {
            "IFSC": "SBIN0000001",
            "accountName": "deku",
            "accountNumber": "1234567890"
        }
    ],
    "transactionNote": "test transaction"
}`}
</CodeBlockWithCopy>

<Element as="ul">
  <li>
    <code>productConfigId</code> is an optional field.
  </li>
</Element>

###### Sample response

<CodeBlockWithCopy language="json">
  {`{
  "amount": 100,
  "expireAfter": 10,
  "id": "1240689979139556556",
  "intentLink": "upi://pay?pa=abc@setu&pn=abc&tn=abc&am=100",
  "merchantId": "1240689979139556556",
  "merchantReferenceId": "1240689979139556556",
  "metadata": "test",
  "minAmount": 100,
  "primaryAccount": {
    "IFSC": "SBIN0000001",
    "accountName": "deku",
    "encryptedAccountNumber": "5e884898da28047151d0e56f8dc629277",
    "hashedAccountNumber": "5e884898da28047151d0e56f8dc629277",
    "maskedAccountNumber": "**** **** **** 7890"
  },
  "productConfigId": "1240689979139556556",
  "secondaryAccounts": [
    {
      "IFSC": "SBIN0000001",
      "accountName": "deku",
      "encryptedAccountNumber": "5e884898da28047151d0e56f8dc629277",
      "hashedAccountNumber": "5e884898da28047151d0e56f8dc629277",
      "maskedAccountNumber": "**** **** **** 7890"
    },
    {
      "IFSC": "SBIN0000001",
      "accountName": "deku",
      "encryptedAccountNumber": "5e884898da28047151d0e56f8dc629277",
      "hashedAccountNumber": "5e884898da28047151d0e56f8dc629277",
      "maskedAccountNumber": "**** **** **** 7890"
    },
    {
      "IFSC": "SBIN0000001",
      "accountName": "deku",
      "encryptedAccountNumber": "5e884898da28047151d0e56f8dc629277",
      "hashedAccountNumber": "5e884898da28047151d0e56f8dc629277",
      "maskedAccountNumber": "**** **** **** 7890"
    },
    {
      "IFSC": "SBIN0000001",
      "accountName": "deku",
      "encryptedAccountNumber": "5e884898da28047151d0e56f8dc629277",
      "hashedAccountNumber": "5e884898da28047151d0e56f8dc629277",
      "maskedAccountNumber": "**** **** **** 7890"
    }
  ],
  "shortCode": "abc",
  "shortLink": "https://pay.setu.co/abc",
  "transactionNote": "test transaction"
}`}
</CodeBlockWithCopy>

<hr class="primary" />

## Check TPV Status

Following the initiation of the transaction, the system retrieves the payment details. This retrieval is based on the payment link ID or a reference number, ensuring you have access to transaction information for confirmation and record-keeping.

<table>
  <tbody>
    <tr>
      <th>Staging host</th>
      <td>
        <code>https://umap.setu.co/api</code>
      </td>
    </tr>
    <tr>
      <th>Method</th>
      <td>
        <code>GET</code>
      </td>
    </tr>
    <tr>
      <th>Path</th>
      <td>
        <code>/v1/merchants/tpv/&#123;id&#125;</code>
      </td>
    </tr>
    <tr>
      <th>Header</th>
      <td>
        <code>merchantId</code>
        <br />
        <code>Authorization</code>: Bearer &lt;<b>insert_token_here</b>&gt;.
        Generate this token using{" "}
        <a href="/payments/upi-deeplinks/resources/oauth" target="_blank">
          OAuth
        </a>{" "}
        or{" "}
        <a href="/payments/upi-deeplinks/resources/jwt" target="_blank">
          JWT
        </a>
        .<br />
        <br />
        <code>Content-Type</code>—will be <code>application/json</code>
      </td>
    </tr>
    <tr>
      <th>API reference</th>
      <td>
        <a
          href="/payments/umap/api-reference#/category~tpv/operation~tpv#fetchTPV"
          target="_blank"
        >
          Check TPV Status ↗
        </a>
      </td>
    </tr>
  </tbody>
</table>

###### Sample response

<CodeBlockWithCopy language="json">
  {`{
  "amount": 100,
  "expireAfter": 10,
  "id": "1240689979139556556",
  "intentLink": "upi://pay?pa=abc@setu&pn=abc&tn=abc&am=100",
  "merchantId": "1240689979139556556",
  "merchantReferenceId": "1240689979139556556",
  "metadata": "test",
  "minAmount": 100,
  "primaryAccount": {
    "IFSC": "SBIN0000001",
    "accountName": "deku",
    "encryptedAccountNumber": "5e884898da28047151d0e56f8dc629277",
    "hashedAccountNumber": "5e884898da28047151d0e56f8dc629277",
    "maskedAccountNumber": "**** **** **** 7890"
  },
  "productConfigId": "1240689979139556556",
  "secondaryAccounts": [
    {
      "IFSC": "SBIN0000001",
      "accountName": "deku",
      "encryptedAccountNumber": "5e884898da28047151d0e56f8dc629277",
      "hashedAccountNumber": "5e884898da28047151d0e56f8dc629277",
      "maskedAccountNumber": "**** **** **** 7890"
    },
    {
      "IFSC": "SBIN0000001",
      "accountName": "deku",
      "encryptedAccountNumber": "5e884898da28047151d0e56f8dc629277",
      "hashedAccountNumber": "5e884898da28047151d0e56f8dc629277",
      "maskedAccountNumber": "**** **** **** 7890"
    },
    {
      "IFSC": "SBIN0000001",
      "accountName": "deku",
      "encryptedAccountNumber": "5e884898da28047151d0e56f8dc629277",
      "hashedAccountNumber": "5e884898da28047151d0e56f8dc629277",
      "maskedAccountNumber": "**** **** **** 7890"
    }
  ],
  "shortCode": "abc",
  "shortLink": "https://pay.setu.co/abc",
  "transactionNote": "test transaction"
}`}
</CodeBlockWithCopy>

<hr class="primary" />

<NextPage
  info={{
    description: "Check payment status associated with tpv.",
    slug: "/payments/umap/payments/tpv/check-status",
    title: "Check payment status",
  }}
/>

<WasPageHelpful />
